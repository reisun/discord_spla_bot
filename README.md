# discord_spla_bot

## 概要
スプラ人狼でGMを支援する便利コマンドを提供します。

## 使い方

以下のコマンドが使えます 

#### GMとして利用開始 
    /スプラ人狼
基本的にこのコマンドから始めないと以降のコマンドは動きません

#### メンバーの決定
    /spメンバー @一人目のメンバーのメンション @二人目のメンション @三人… @…

#### メンバーの追加・削除
    /spメンバー @メンバーのメンション
既にいる場合は削除、いない場合は追加になります

#### メンバー確認
    /spメンバー

#### メンバーの名前・役割の提案  
    /spロール みんなの名前 村人以外の役職１ 村人以外の役職２ ...
名前・役割を割り振ってGMにDMします。各メンバーにはまだDMしません
#### 送信コマンド例 その１
    /spロール △△△ 狂人 人狼 

#### 送信コマンド例 その２  
    /spロール ◆◆◆ 占い師 ハンター 人狼 人狼
（役職は好きに追加OKです。役職が２人必要なら「人狼 人狼」のように２個書いてください。）

#### GMにDMされる割り振り提案メッセージ例
    /spロール送信  
    ABCDFEG123456ABCDEFG123456  
    メンバー１のメンション △△△A 村人  
    メンバー２のメンション △△△B 狂人  
    メンバー３のメンション △△△C 人狼  
    狂人=>知らせる=>人狼

#### 各メンバーの名前・役割をDM送信  
    /spロール送信  
    ABCDFEG123456ABCDEFG123456  
    メンバー１のメンション △△△A 村人  
    メンバー２のメンション △△△B 狂人  
    メンバー３のメンション △△△C 人狼  
    狂人=>知らせる=>人狼

/spロール でDMされた割り振り提案メッセージは、各メンバーへ名前・役割をDMするための専用コマンドにもなっています。  
GMは内容を確認してからDMでBOTにコマンドを送信してください。各メンバーに名前・役割がDMされます。  
役職を修正したい場合は、コマンドの役職名の部分を書き換えて送信してください。

#### 投票用のメッセージを表示する。  
    /sp投票
これはDMからでは無く、みんなが見れるスレッド上でやってください。

#### GMをやめる
    /spやめる
GMをやめないうちは、別のモードのコマンドは使えません。３０分未操作で自動でやめます。

#### GMを入れ替える  
    /sp代わる @次にGMにしたいメンバーのメンション
/spメンバー コマンドで登録されているメンバーとしか入れ替えられません 


## 開発環境構築

### dockerの起動
    docker-compose up -d --build

### dockerコンテナに入る
    docker exec -it {コンテナ名} bash

### node_modulesのインストール
    cd /home/SPLABOT
    npm i

### botの起動
    node app.js

