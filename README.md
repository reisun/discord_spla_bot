# discord_spla_bot

スプラ人狼でGMを支援する便利コマンドを提供します。

## 前提
ボイスチャンネル内のテキストチャットと、一部GMのDM上で動かすBOTです。  
それ以外のテキストチャンネルでは使用できません。  

### スラッシュコマンドに対応
スラッシュコマンドに対応しています。   
（メッセージ入力欄で ```/``` (スラッシュ) を入力すると、コマンドのガイドが出てきて簡単に入力できる機能。）  
  
ただし以下の注意点があります。  
* サーバー上でのチャンネルでのみ対応。  
DM上では対応していないため、通常のコマンドで入力してください。  
* 通常のコマンドと少し書き方が異なる。  
コマンド打つ時に出てくるガイドを確認すれば問題無い範囲です。  


## よく使うコマンド

### ○人狼参加者からGMを除く
#### メンバーの追加・削除
    /spj_member @メンバーのメンション（複数指定可能）
人狼参加者は初期状態ではボイスチャンネルのメンバー全員のため  
上記コマンドでGMの人を指定して除いてください。  
既に参加していれば削除、参加していなければ追加、となります。

#### メンバー確認
    /spj_member
ボイスチャンネルにいるメンバーが人狼参加者か、そうでないか表示します。

### ○名前・役職の割り当て作成
#### メンバーの名前・役職の作成  
    /spj_role 共通の名前 村人以外の役職(複数指定可)
人狼で使用する共通の名前と、村人以外の役職を入力します。  
コマンド実行すると、人狼参加者各メンバーの名前・役職のリストを作成します。  
作成したリストはコマンド実行者にDM送信されます。  

#### (コマンド送信例)  
    /spj_role りゅう 占い師 ハンター 人狼 人狼
役職は好きに追加OKです。同じ役職が２人必要なら「人狼 人狼」のように２個書いてください。

#### 前回のルールの再利用
    /spj_role
前回使用した名前・役職の設定内容で再実行します。  
同じルールで続ける時に便利です。

### ○メンバーへ名前・役職を通知

#### 役職のリストを確認して、各メンバーにDMを送信（スラッシュコマンド非対応）
    /spj_send_role  
    123123123123123123
    りゅうA 村人 メンバー１  
    りゅうB 狂人 メンバー２ 
    りゅうC 村人 メンバー３
`/spj_role` を行うと、上記のような名前・役職リストを返信します。  
こちらをコピペしてBOTにDM送信すると、各メンバーにDMが送信されます。  
割り当てが気に入らない場合は、役職などを手で変更してから  
コマンド送信して大丈夫です。  
※２行目の数字は人狼部屋を示す番号が入るので変更しないでください。  

### ○投票

#### 投票用のメッセージを表示する。  
    /spj_vote


### ○追放

#### 追放する。
    /spj_eject @ユーザーのメンション
次の投票用メッセージに出てこないようになります。
もう一度指定すると取り消せます。

---

## おまけ

#### チーム作成
    /spj_team_build
ボイスチャットにいるメンバーで、Aチーム、Bチーム、観戦ほか、にチーム分けします。

<br/>
<br/>

## あまり使わないコマンド
#### 保存情報をクリアする（スラッシュコマンド非対応）
    /spj_clear   
ボイスチャンネルごとに保存されている情報がクリアされます。   
保存している情報は以下の通りです。 
* ボイスチャンネルのID
* 登録しているメンバー情報(ID/表示名)
* 直近の役割作成内容(/spj_role の内容)
* 直近の役割メンバー送信内容(/spj_send_role の内容)
* 追放メンバー情報(ID/表示名)
* 役職のメンバー通知時のオプション動作

<br/>

#### 役職のメンバー通知時のオプション動作を設定する（スラッシュコマンド非対応）
    /spj_send_role_option オプション内容(複数指定可能)
各メンバーに役職が通知される際に特殊な動作を指定できます。

#### (コマンド送信例)  
    /spj_send_role_option 人狼>知られる>狂人
上記の例では狂人の役職通知の際に人狼が誰なのかを合わせて通知します。  
その他オプションの種類は今のところなし。

<br/>


## **/spj_role のオプション**
#### 作成した役職割り当てを確認せずにメンバーにDMする。（スラッシュコマンド非対応）
    --no-check
役職を誰も知らないまま、各人狼参加者にDMできます。

#### コマンド送信例  
    /spj_role --check りゅう 占い師 ハンター 人狼 人狼

<br/>